jQuery.noConflict()(function(){jQuery(".hide-column-tog").live("click",function(){var $t=jQuery(this),$column=$t.val(),$dropdown="dropdown_"+$column;$t.prop("checked")?jQuery("#"+$dropdown).show():jQuery("#"+$dropdown).hide()})}),function($){function cpt_onomy_populate_quick_edit(){var $wp_inline_edit=inlineEditPost.edit;inlineEditPost.edit=function(id){$wp_inline_edit.apply(this,arguments);var $id=0;if("object"==typeof id&&($id=parseInt(this.getId(id))),$id>0){var $quick_edit_row=$("#edit-"+$id);if($quick_edit_row.size()>0){var $post_type=jQuery('input[name="post_type"]').val(),$taxonomies=$quick_edit_row.cpt_onomy_bulk_quick_edit_get_taxonomies();$.each($taxonomies,function($index,$taxonomy){$.ajax({url:ajaxurl,type:"POST",dataType:"json",async:!0,cache:!1,data:{action:"custom_post_type_onomy_get_cpt_onomy_terms_include_term_ids",custom_post_type_onomies_taxonomy:$taxonomy,custom_post_type_onomies_post_type:$post_type,custom_post_type_onomies_post_id:$id},success:function($term_ids){$.isArray($term_ids)&&$term_ids.length>0&&$quick_edit_row.find("ul.cpt-onomy-checklist.cpt-onomy-"+$taxonomy).each(function(){$(this).cpt_onomy_remove_from_quick_edit_checklist($term_ids,!0)})}})}),$.ajax({url:ajaxurl,type:"POST",dataType:"json",async:!0,cache:!1,data:{action:"custom_post_type_onomy_get_cpt_onomy_terms_exclude_term_ids",custom_post_type_onomies_taxonomies:$taxonomies,custom_post_type_onomies_post_type:$post_type,custom_post_type_onomies_post_id:$id},success:function($term_ids){$.isArray($term_ids)&&$term_ids.length>0&&$quick_edit_row.find("ul.cpt-onomy-checklist").each(function(){$(this).cpt_onomy_remove_from_quick_edit_checklist($term_ids,!1)})}}),$.ajax({url:ajaxurl,type:"POST",dataType:"json",async:!0,cache:!1,data:{action:"custom_post_type_onomy_populate_bulk_quick_edit",custom_post_type_onomies_post_ids:$id,custom_post_type_onomies_taxonomies:$taxonomies,custom_post_type_onomies_wp_get_object_terms_fields:"ids"},success:function($term_ids){$.isArray($term_ids)&&$term_ids.length>0&&$quick_edit_row.find("ul.cpt-onomy-checklist").each(function(){$(this).cpt_onomy_populate_quick_edit_checklist($term_ids)})}})}}}}function cpt_onomy_save_quick_edit(){var $wp_inline_edit_save=inlineEditPost.save;inlineEditPost.save=function(id){$wp_inline_edit_save.apply(this,arguments);var $post_type=$('input[name="post_type"]').val(),$id=0;if("object"==typeof id&&($id=parseInt(this.getId(id))),"post"!=$post_type&&"page"!=$post_type&&$id>0){var $table_columns=new Array;$("table.wp-list-table thead th").each(function(){$.each($(this).attr("class").split(" "),function($index,$value){$value.match(/^(column\-)/i)&&$table_columns.push($value)})}),$("table.wp-list-table").ajaxComplete(function(){var $post_row=$(inlineEditPost.what+$id),$populate_columns=new Array;$post_row.children("td").each(function(){var $column_td=$(this);$.each($column_td.attr("class").split(" "),function($index,$value){$value.match(/^(column\-)/i)&&$.inArray($value,$table_columns)<0&&$column_td.remove()})});var $loop_test=!1;do{$loop_test=!1;var $column_index=1;$post_row.children("td").each(function(){var $column_td=$(this);$.each($column_td.attr("class").split(" "),function($index,$value){if($value.match(/^(column\-)/i)&&$value!=$table_columns[$column_index]){$populate_columns.push($table_columns[$column_index]);var $column_name=$table_columns[$column_index].replace(/^(column\-)/i,""),$new_column='<td class="'+$column_name+" "+$table_columns[$column_index]+'">&nbsp;</td>';$new_column=$($new_column).insertBefore($column_td),$("table.wp-list-table thead th."+$table_columns[$column_index]).is(":hidden")&&$new_column.hide(),$loop_test=!0}}),$column_index++})}while($loop_test);$.each($populate_columns,function($index,$value){$.ajax({url:ajaxurl,type:"POST",async:!0,cache:!1,data:{action:"custom_post_type_onomy_quick_edit_populate_custom_columns",custom_post_type_onomies_post_id:$id,custom_post_type_onomies_post_type:$post_type,custom_post_type_onomies_column_name:$value.replace(/^(column\-)/i,"")},success:function($column_text){""!=$column_text&&$post_row.children("td."+$value).html($column_text)}})})})}}}function cpt_onomy_exclude_from_bulk_edit(){var $wp_inline_set_bulk=inlineEditPost.setBulk;inlineEditPost.setBulk=function(){$wp_inline_set_bulk.apply(this,arguments);var $bulk_edit_row=$("#bulk-edit");if($bulk_edit_row.size()>0){var $post_type=jQuery('input[name="post_type"]').val(),$taxonomies=$bulk_edit_row.cpt_onomy_bulk_quick_edit_get_taxonomies();$.each($taxonomies,function($index,$taxonomy){$.ajax({url:ajaxurl,type:"POST",dataType:"json",async:!0,cache:!1,data:{action:"custom_post_type_onomy_get_cpt_onomy_terms_include_term_ids",custom_post_type_onomies_taxonomy:$taxonomy,custom_post_type_onomies_post_type:$post_type},success:function($term_ids){$.isArray($term_ids)&&$term_ids.length>0&&$bulk_edit_row.find("ul.cpt-onomy-checklist.cpt-onomy-"+$taxonomy).each(function(){$(this).cpt_onomy_remove_from_quick_edit_checklist($term_ids,!0)})}})}),$.ajax({url:ajaxurl,type:"POST",dataType:"json",async:!0,cache:!1,data:{action:"custom_post_type_onomy_get_cpt_onomy_terms_exclude_term_ids",custom_post_type_onomies_taxonomies:$taxonomies,custom_post_type_onomies_post_type:$post_type},success:function($term_ids){$.isArray($term_ids)&&$term_ids.length>0&&$bulk_edit_row.find("ul.cpt-onomy-checklist").each(function(){$(this).cpt_onomy_remove_from_quick_edit_checklist($term_ids,!1)})}})}}}function cpt_onomy_save_bulk_edit(){$("#bulk_edit").live("click",function(){var $bulk_row=$("#bulk-edit"),$post_ids=new Array;$bulk_row.find("#bulk-titles").children().each(function(){$post_ids.push($(this).attr("id").replace(/^(ttle)/i,""))}),$bulk_row.find("ul.cpt-onomy-checklist").each(function(){var $taxonomy="";if($.each($(this).attr("class").split(" "),function($index,$value){"cpt-onomy-checklist"!=$value&&$value.match(/^(cpt\-onomy\-)/i)&&($taxonomy=$value.replace(/^(cpt\-onomy\-)/i,""))}),""!=$taxonomy){var $checked_ids=new Array;$(this).find("input:checked").each(function(){$checked_ids.push($(this).attr("value"))}),$.ajax({url:ajaxurl,type:"POST",async:!1,cache:!1,data:{action:"custom_post_type_onomy_save_bulk_edit",custom_post_type_onomies_post_ids:$post_ids,custom_post_type_onomies_taxonomy:$taxonomy,custom_post_type_onomies_checked_ids:$checked_ids}})}})})}inlineEditPost?(cpt_onomy_populate_quick_edit(),cpt_onomy_save_quick_edit(),cpt_onomy_exclude_from_bulk_edit()):(jQuery(cpt_onomy_populate_quick_edit),jQuery(cpt_onomy_save_quick_edit)),cpt_onomy_save_bulk_edit()}(jQuery),jQuery.fn.cpt_onomy_bulk_quick_edit_get_taxonomies=function(){var $taxonomies=new Array;return jQuery(this).find("ul.cpt-onomy-checklist").each(function(){jQuery.each(jQuery(this).attr("class").split(" "),function(index,value){"cpt-onomy-checklist"!=value&&value.match(/^(cpt\-onomy\-)/i)&&$taxonomies.push(value.replace(/^(cpt\-onomy\-)/i,""))})}),$taxonomies},jQuery.fn.cpt_onomy_remove_from_quick_edit_checklist=function($term_ids,$include){jQuery(this).children("li").each(function(){var $list_item=jQuery(this),$list_item_id=parseInt($list_item.attr("id").match(/[0-9]+/));($include&&jQuery.inArray($list_item_id,$term_ids)==-1||!$include&&jQuery.inArray($list_item_id,$term_ids)>-1)&&$list_item.remove()})},jQuery.fn.cpt_onomy_populate_quick_edit_checklist=function($term_ids){jQuery(this).children("li").each(function(){var $list_item=jQuery(this),$input=$list_item.find("input#in-"+$list_item.attr("id"));jQuery.inArray($input.attr("value"),$term_ids)>-1&&$input.attr("checked","checked"),$list_item.children("ul").size()>0&&$list_item.children("ul").cpt_onomy_populate_quick_edit_checklist($term_ids)})};